'\" t
.TH "GCLOUD\-COMPUTE\-INSTANCES\-CREATE" "1"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.SH "NAME"
gcloud-compute-instances-create \- Create Compute Engine virtual machine instances
.SH "SYNOPSIS"
.sp
.nf
\fBgcloud compute instances create\fR
  NAME [NAME \&...]
  [\-\-boot\-disk\-device\-name BOOT_DISK_DEVICE_NAME]
  [\-\-boot\-disk\-size BOOT_DISK_SIZE]
  [\-\-boot\-disk\-type BOOT_DISK_TYPE]
  [\-\-can\-ip\-forward]
  [\-\-description DESCRIPTION]
  [\-\-disk PROPERTY=VALUE [PROPERTY=VALUE \&...]]
  [\-\-format FORMAT]
  [\-\-help]
  [\-\-image IMAGE | centos\-6 | centos\-7 | coreos | debian\-7 | debian\-7\-backports | opensuse\-13 | rhel\-6 | rhel\-7 | sles\-11]
  [\-\-image\-project IMAGE_PROJECT]
  [\-\-machine\-type MACHINE_TYPE; default="n1\-standard\-1"]
  [\-\-maintenance\-policy MAINTENANCE_POLICY]
  [\-\-metadata KEY=VALUE [KEY=VALUE \&...]]
  [\-\-metadata\-from\-file KEY=LOCAL_FILE_PATH [KEY=LOCAL_FILE_PATH \&...]]
  [\-\-network NETWORK; default="default"]
  [\-\-address ADDRESS | \-\-no\-address]
  [\-\-no\-boot\-disk\-auto\-delete]
  [\-\-no\-restart\-on\-failure]
  [\-\-project PROJECT]
  [\-\-quiet, \-q]
  [\-\-no\-scopes | \-\-scopes [ACCOUNT=]SCOPE [[ACCOUNT=]SCOPE \&...]]
  [\-\-tags TAG [TAG \&...]]
  [\-\-zone ZONE]
  [\-h]
.fi
.SH "DESCRIPTION"
.sp
\fBgcloud compute instances create\fR facilitates the creation of Google Compute Engine virtual machines\&. For example, running:
.sp
.if n \{\
.RS 4
.\}
.nf
$ gcloud compute instances create \e
    my\-instance\-1 my\-instance\-2 my\-instance\-3 \e
    \-\-zone us\-central1\-a
.fi
.if n \{\
.RE
.\}
.sp
will create three instances called \(lqmy\-instance\-1\(rq, \(lqmy\-instance\-2\(rq, and \(lqmy\-instance\-3\(rq in the \(lqus\-central1\-a\(rq zone\&.
.sp
For more examples, refer to the \fBEXAMPLES\fR section below\&.
.SH "POSITIONAL ARGUMENTS"
.PP
\fINAME [NAME \&...]\fR
.RS 4
The names of the instances to create\&.
.RE
.SH "FLAGS"
.PP
\fB\-\-address\fR \fIADDRESS\fR
.RS 4
Assigns the given external IP address to the instance that is created\&. This option can only be used when creating a single instance\&.
.RE
.PP
\fB\-\-boot\-disk\-device\-name\fR \fIBOOT_DISK_DEVICE_NAME\fR
.RS 4
The name the guest operating system will see for the boot disk as\&. This option can only be specified if a new boot disk is being created (as opposed to mounting an existing persistent disk)\&.
.RE
.PP
\fB\-\-boot\-disk\-size\fR \fIBOOT_DISK_SIZE\fR
.RS 4
The size of the boot disk\&. This option can only be specified if a new boot disk is being created (as opposed to mounting an existing persistent disk)\&. The value must be a whole number followed by a size unit of \(lqKB\(rq for kilobyte, \(lqMB\(rq for megabyte, \(lqGB\(rq for gigabyte, or \(lqTB\(rq for terabyte\&. For example, \(lq10GB\(rq will produce a 10 gigabyte disk\&. If omitted, a default size of 200 GB is used\&. The minimum size a boot disk can have is 10 GB\&. Disk size must be a multiple of 1 GB\&.
.RE
.PP
\fB\-\-boot\-disk\-type\fR \fIBOOT_DISK_TYPE\fR
.RS 4
The type of the boot disk\&. This option can only be specified if a new boot disk is being created (as opposed to mounting an existing persistent disk)\&. To get a list of available disk types, run
\fIgcloud compute disk\-types list\fR\&.
.RE
.PP
\fB\-\-can\-ip\-forward\fR
.RS 4
If provided, allows the instances to send and receive packets with non\-matching destination or source IP addresses\&.
.RE
.PP
\fB\-\-description\fR \fIDESCRIPTION\fR
.RS 4
Specifies a textual description of the instances\&.
.RE
.PP
\fB\-\-disk\fR \fIPROPERTY=VALUE [PROPERTY=VALUE \&...]\fR
.RS 4
Attaches persistent disks to the instances\&. The disks specified must already exist\&.
.PP
\fBname\fR
.RS 4
The disk to attach to the instances\&. When creating more than one instance and using this property, the only valid mode for attaching the disk is read\-only (see
\fBmode\fR
below)\&.
.RE
.PP
\fBmode\fR
.RS 4
Specifies the mode of the disk\&. Supported options are \(lqro\(rq for read\-only and \(lqrw\(rq for read\-write\&. If omitted, \(lqrw\(rq is used as a default\&. It is an error for mode to be \(lqrw\(rq when creating more than one instance because read\-write disks can only be attached to a single instance\&.
.RE
.PP
\fBboot\fR
.RS 4
If \(lqyes\(rq, indicates that this is a boot disk\&. The virtual machines will use the first partition of the disk for their root file systems\&. The default value for this is \(lqno\(rq\&.
.RE
.PP
\fBdevice\-name\fR
.RS 4
An optional name that indicates the disk name the guest operating system will see\&. If omitted, a device name of the form \(lqpersistent\-disk\-N\(rq will be used\&.
.RE
.PP
\fBauto\-delete\fR
.RS 4
If \(lqyes\(rq, this persistent disk will be automatically deleted when the instance is deleted\&. However, if the disk is later detached from the instance, this option won\(cqt apply\&. The default value for this is \(lqno\(rq\&.
.RE
.RE
.PP
\fB\-\-format\fR \fIFORMAT\fR
.RS 4
Specify a format for printed output\&. By default, a command\-specific human\-friendly output format is used\&. Setting this flag to one of the available options will serialize the result of the command in the chosen format and print it to stdout\&. Supported formats are: "json", "text", "yaml"\&.
.RE
.PP
\fB\-\-help\fR
.RS 4
Display detailed help\&.
.RE
.PP
\fB\-\-image\fR \fIIMAGE | centos\-6 | centos\-7 | coreos | debian\-7 | debian\-7\-backports | opensuse\-13 | rhel\-6 | rhel\-7 | sles\-11\fR
.RS 4
Specifies the boot image for the instances\&. For each instance, a new boot disk will be created from the given image\&. Each boot disk will have the same name as the instance\&.
.sp
The value for this option can be the name of an image or an alias from the table below\&.
.TS
tab(:);
ltB ltB ltB ltB.
T{
Alias
T}:T{
Project
T}:T{
Image Name
T}:T{
\ \&
T}
.T&
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l
lt lt lt l.
T{
centos\-6
T}:T{
centos\-cloud
T}:T{
centos\-6
T}:T{
\ \&
T}
T{
centos\-7
T}:T{
centos\-cloud
T}:T{
centos\-7
T}:T{
\ \&
T}
T{
coreos
T}:T{
coreos\-cloud
T}:T{
coreos\-stable
T}:T{
\ \&
T}
T{
debian\-7
T}:T{
debian\-cloud
T}:T{
debian\-7\-wheezy
T}:T{
\ \&
T}
T{
debian\-7\-backports
T}:T{
debian\-cloud
T}:T{
backports\-debian\-7\-wheezy
T}:T{
\ \&
T}
T{
opensuse\-13
T}:T{
opensuse\-cloud
T}:T{
opensuse\-13
T}:T{
\ \&
T}
T{
rhel\-6
T}:T{
rhel\-cloud
T}:T{
rhel\-6
T}:T{
\ \&
T}
T{
rhel\-7
T}:T{
rhel\-cloud
T}:T{
rhel\-7
T}:T{
\ \&
T}
T{
sles\-11
T}:T{
suse\-cloud
T}:T{
sles\-11
T}:T{
\ \&
T}
.TE
.sp 1
When the value is an alias, this tool will query the public image project that contains the image type to find the latest image matching the alias\&. The user\(cqs project is also queried for an image with the same name as the alias\&. If a conflict exists, the user will be prompted to resolve the conflict\&.
.sp
To specify an image in another project for which there is no alias, use \(lq\-\-image\-project\(rq\&. When \(lq\-\-image\-project\(rq is present, no API calls are made to resolve the image\&. This property is useful for scripts\&.
.sp
When using this option, \(lq\-\-boot\-disk\-device\-name\(rq and \(lq\-\-boot\-disk\-size\(rq can be used to override the boot disk\(cqs device name and size, respectively\&.
.sp
By default, \(lqdebian\-7\-backports\(rq is assumed for this flag\&.
.RE
.PP
\fB\-\-image\-project\fR \fIIMAGE_PROJECT\fR
.RS 4
The project against which all image references will be resolved\&. See \(lq\-\-image\(rq for more details\&.
.RE
.PP
\fB\-\-machine\-type\fR \fIMACHINE_TYPE\fR
.RS 4
Specifies the machine type used for the instances\&. To get a list of available machine types, run
\fIgcloud compute machine\-types list\fR\&.
.RE
.PP
\fB\-\-maintenance\-policy\fR \fIMAINTENANCE_POLICY\fR
.RS 4
Specifies the behavior of the instances when their host machines undergo maintenance\&. \(lqTERMINATE\(rq indicates that the instances should be terminated\&. \(lqMIGRATE\(rq indicates that the instances should be migrated to a new host\&. Choosing \(lqMIGRATE\(rq will temporarily impact the performance of instances during a migration event\&. If omitted, \(lqMIGRATE\(rq is assumed\&.
.RE
.PP
\fB\-\-metadata\fR \fIKEY=VALUE [KEY=VALUE \&...]\fR
.RS 4
Metadata to be made available to the guest operating system running on the instances\&. Each metadata entry is a key/value pair separated by an equals sign\&. Metadata keys must be unique and less than 128 bytes in length\&. Values must be less than or equal to 32,768 bytes in length\&. Multiple arguments can be passed to this flag, e\&.g\&., \(lq\-\-metadata key\-1=value\-1 key\-2=value\-2 key\-3=value\-3\(rq\&.
.sp
In images that have
Compute Engine tools installed
on them, the following metadata keys have special meanings:
.PP
\fBstartup\-script\fR
.RS 4
Specifies a script that will be executed by the instances once they start running\&. For convenience, \(lq\-\-metadata\-from\-file\(rq can be used to pull the value from a file\&.
.RE
.PP
\fBstartup\-script\-url\fR
.RS 4
Same as \(lqstartup\-script\(rq except that the script contents are pulled from a publicly\-accessible location on the web\&.
.RE
.RE
.PP
\fB\-\-metadata\-from\-file\fR \fIKEY=LOCAL_FILE_PATH [KEY=LOCAL_FILE_PATH \&...]\fR
.RS 4
Same as \(lq\-\-metadata\(rq except that the value for the entry will be read from a local file\&. This is useful for values that are too large such as \(lqstartup\-script\(rq contents\&.
.RE
.PP
\fB\-\-network\fR \fINETWORK\fR
.RS 4
Specifies the network that the instances will be part of\&. If omitted, the \(lqdefault\(rq network is used\&.
.RE
.PP
\fB\-\-no\-address\fR
.RS 4
If provided, the instances will not be assigned external IP addresses\&.
.RE
.PP
\fB\-\-no\-boot\-disk\-auto\-delete\fR
.RS 4
If provided, boot disks will not be automatically deleted when their instances are deleted\&.
.RE
.PP
\fB\-\-no\-restart\-on\-failure\fR
.RS 4
If provided, the instances will not be restarted if they are terminated by Compute Engine\&. By default, failed instances will be restarted\&. This does not affect terminations performed by the user\&.
.RE
.PP
\fB\-\-no\-scopes\fR
.RS 4
If provided, the default scopes (https://www\&.googleapis\&.com/auth/devstorage\&.read_only) are not added to the instances\&.
.RE
.PP
\fB\-\-project\fR \fIPROJECT\fR
.RS 4
Google Cloud Platform project to use for this invocation\&.
.RE
.PP
\fB\-\-quiet\fR
.RS 4
Disable all interactive prompts when running gcloud commands\&. If input is required, defaults will be used, or an error will be raised\&.
.RE
.PP
\fB\-\-scopes\fR \fI[ACCOUNT=]SCOPE [[ACCOUNT=]SCOPE \&...]\fR
.RS 4
Specifies service accounts and scopes for the instances\&. Service accounts generate access tokens that can be accessed through the instance metadata server and used to authenticate applications on the instance\&. The account can be either an email address or an alias corresponding to a service account\&. If account is omitted, the project\(cqs default service account is used\&. The default service account can be specified explicitly by using the alias \(lqdefault\(rq\&. Example:
.sp
.if n \{\
.RS 4
.\}
.nf
$ gcloud compute instances create my\-instance \e
    \-\-scopes compute\-rw me@project\&.gserviceaccount\&.com=storage\-rw
.fi
.if n \{\
.RE
.\}
.sp
If this flag is not provided, the \(lqstorage\-ro\(rq scope is added to the instances\&. To create instances with no scopes, use \(lq\-\-no\-scopes\(rq:
.sp
.if n \{\
.RS 4
.\}
.nf
$ gcloud compute instances create my\-instance \-\-no\-scopes
.fi
.if n \{\
.RE
.\}
.sp
SCOPE can be either the full URI of the scope or an alias\&. Available aliases are:
.TS
tab(:);
ltB ltB.
T{
Alias
T}:T{
URI
T}
.T&
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt
lt lt.
T{
bigquery
T}:T{
https://www\&.googleapis\&.com/auth/bigquery
T}
T{
compute\-ro
T}:T{
https://www\&.googleapis\&.com/auth/compute\&.readonly
T}
T{
compute\-rw
T}:T{
https://www\&.googleapis\&.com/auth/compute
T}
T{
datastore
T}:T{
https://www\&.googleapis\&.com/auth/datastore
T}
T{
sql
T}:T{
https://www\&.googleapis\&.com/auth/sqlservice
T}
T{
sql\-admin
T}:T{
https://www\&.googleapis\&.com/auth/sqlservice\&.admin
T}
T{
storage\-full
T}:T{
https://www\&.googleapis\&.com/auth/devstorage\&.full_control
T}
T{
storage\-ro
T}:T{
https://www\&.googleapis\&.com/auth/devstorage\&.read_only
T}
T{
storage\-rw
T}:T{
https://www\&.googleapis\&.com/auth/devstorage\&.read_write
T}
T{
taskqueue
T}:T{
https://www\&.googleapis\&.com/auth/taskqueue
T}
T{
userinfo\-email
T}:T{
https://www\&.googleapis\&.com/auth/userinfo\&.email
T}
.TE
.sp 1
.RE
.PP
\fB\-\-tags\fR \fITAG [TAG \&...]\fR
.RS 4
Specifies a list of tags to apply to the instances for identifying the instances to which network firewall rules will apply\&. See
\fBgcloud\-compute\-firewalls\-create(1)\fR
for more details\&.
.RE
.PP
\fB\-\-zone\fR \fIZONE\fR
.RS 4
The zone of the instances to create\&. If not specified, you will be prompted to select a zone\&.
.sp
To avoid prompting when this flag is omitted, you can set the \(lqcompute/zone\(rq property:
.sp
.if n \{\
.RS 4
.\}
.nf
gcloud config set compute/zone ZONE
.fi
.if n \{\
.RE
.\}
.sp
A list of zones can fetched by running:
.sp
.if n \{\
.RS 4
.\}
.nf
gcloud compute zones list
.fi
.if n \{\
.RE
.\}
.sp
To unset the property, run:
.sp
.if n \{\
.RS 4
.\}
.nf
gcloud config unset compute/zone
.fi
.if n \{\
.RE
.\}
.sp
Alternatively, the zone can be stored in the environment variable \(lqCLOUDSDK_COMPUTE_ZONE\(rq\&.
.RE
.PP
\fB\-h\fR
.RS 4
Print a summary help and exit\&.
.RE
.SH "EXAMPLES"
.sp
To create an instance with the latest \(lqRed Hat Enterprise Linux 6\(rq image available, run:
.sp
.if n \{\
.RS 4
.\}
.nf
$ gcloud compute instances create my\-instance \e
    \-\-image rhel\-6 \-\-zone us\-central1\-a
.fi
.if n \{\
.RE
.\}
